(()=>{"use strict";let e=[],t=0;const n=()=>t,o=(e,t)=>({prio:1,completed:!1,name:`${t} -  item ${e} - work on proj`,date:Date.now()}),d=(t,n)=>{e.push({name:t,desc:n,todos:[o("one",t),o("two",t)]})},c=e=>i()[e].todos,i=()=>e,l=(e,t,n)=>i()[e].todos[t][n],r=(t,n,o,d)=>{e[t].todos[n][o]=d},s=(e,t,n)=>{e.addEventListener("click",(()=>{const e=document.querySelectorAll(".list-item"),o=e[n];o.innerHTML="";const d=a(e.tite,e.date,e.prio,t,n);o.appendChild(d)}))},a=(e,t,n,o,d)=>{const i=document.createElement("form");i.classList="form-todo";const s=document.createElement("label");s.htmlFor="editListTitle",s.innerText="Title:",i.appendChild(s);const a=document.createElement("input");a.setAttribute("type","text"),a.id="editListTitle",a.value=l(o,d,"name"),i.appendChild(a);const m=document.createElement("label");m.htmlFor="editListPrio",m.innerText="Prio:",i.appendChild(m);const u=document.createElement("input");u.setAttribute("type","text"),u.id="editListPrio",u.value=l(o,d,"prio"),i.appendChild(u);const p=document.createElement("label");p.htmlFor="editListDate",p.innerText="Date:",i.appendChild(p);const L=document.createElement("input");L.setAttribute("type","date"),L.id="editListDate",L.value=l(o,d,"date"),i.appendChild(L,i);const h=document.createElement("div");h.classList="formbuttons";const v=document.createElement("input");var E,C,b;v.setAttribute("type","submit"),v.setAttribute("value","Update"),E=i,C=o,b=d,v.addEventListener("click",(e=>{e.preventDefault();let t=E[0].value,n=E[1].value,o=E[2].value;r(C,b,"name",t),r(C,b,"prio",n),r(C,b,"date",o);const d=c(C);y(),f(d,C)}));const S=document.createElement("input");return S.setAttribute("type","submit"),S.setAttribute("value","Cancel"),((e,t)=>{e.addEventListener("click",(e=>{e.preventDefault();const n=c(t);y(),f(n,t)}))})(S,o),h.appendChild(v),h.appendChild(S),i.appendChild(h),i},m=()=>{document.querySelector("#list-items").classList="add-items active",document.querySelector("#add-item-todo").classList="add-items-todo hidden"},u=e=>{y(),f(c(e),e)},p=(e,n)=>{e.addEventListener("click",(()=>{var e;t=n,b(),S(n),j((e=n,i()[e].desc)),u(n)}))},L=(e,t,n)=>{e.addEventListener("click",(()=>{l(t,n,"completed")?(r(t,n,"completed",!1),u(t)):(r(t,n,"completed",!0),u(t))}))},h=(t,n,o,d)=>{t.addEventListener("click",(()=>{"delete icon"==n&&(((t,n)=>{e[t].todos.splice(n)})(o,d),u(o))}))},v=document.querySelector("#todo-items"),y=()=>{v.innerHTML=""},E=e=>{const t=document.createElement("p");return t.innerHTML=e,t},C=e=>{const t=document.createElement("span");return t.classList="material-symbols-rounded",t.innerHTML=e,t},b=()=>{const e=document.querySelectorAll(".projects")[0].children;for(let t=0;t<e.length;t++)e[t].classList="project-item"},S=e=>{document.querySelectorAll(".projects")[0].children[e].classList="project-item cur-proj"},q=e=>{const t=document.querySelector(".projects"),n=document.createElement("div");n.classList="project-item";const o=document.createElement("h2");o.classList="text-item",o.innerHTML=e.name,n.appendChild(o);const d=document.createElement("span");return d.classList="material-symbols-rounded",d.innerHTML="edit",d.id="edit-project-item",n.appendChild(d),t.appendChild(n),n},f=(e,t)=>{for(let o=0;o<e.length;o++){const d=document.createElement("div");d.classList="list-item";const c=E(e[o].prio);let i,r;d.appendChild(c),l(t,o,"completed")?(i=C("check_box"),r=E("<s>"+e[o].name+"</s>")):(i=C("check_box_outline_blank"),r=E(e[o].name)),L(i,t,o),d.appendChild(i),d.appendChild(r);const a=E((n=e[o].date,new Date(n).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})));d.appendChild(a);const m=C("edit");s(m,t,o),d.appendChild(m);const u=C("delete");h(u,"delete icon",t,o),d.appendChild(u),v.appendChild(d)}var n},j=e=>{document.querySelector("#proj-desc").innerHTML=e};d("Project Test 1","Description a"),d("Project Test 2","Description b"),(e=>{for(let t=0;t<e.length;t++){const n=q(e[t]);p(n,t),0==t&&(y(),f(e[t].todos,t),j(e[t].desc),S(t))}})(i()),document.querySelector("#project-items").addEventListener("click",(()=>{console.log("add project item")})),document.querySelector("#list-items").addEventListener("click",(()=>{document.querySelector("#list-items").classList="add-items hidden",document.querySelector("#add-item-todo").classList="add-items-todo active"})),document.querySelector("#todo-form-cancel").addEventListener("click",(e=>{e.preventDefault(),m()})),document.querySelector("#todo-form-add").addEventListener("click",(t=>{t.preventDefault();const o=document.querySelector("#formaddtodo")[0].value,d=document.querySelector("#formaddtodo")[1].value,c=document.querySelector("#formaddtodo")[2].value;((t,n,o,d)=>{console.log("add new todo obj"),e[t].todos.push({prio:n,completed:!1,name:o,date:d})})(n(),d,o,c);const l=i()[n()].todos;y(),f(l,n()),m()}))})();